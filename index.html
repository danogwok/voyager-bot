<html>
<head>
    <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/status.css" media="screen" title="no title" charset="utf-8">
  <link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  <script src="/keypress.js"></script>
  <script src="/socket.io/socket.io.js"></script>


  <style type="text/css">
  #stream {
    height: 99%;
    margin: 0px auto;
    display: block;
    margin-top: 20px;
  }
  </style>

  <script>
    $(document).ready(function() {
      var listener = new window.keypress.Listener();
      var socket = io.connect();

      var my_combos = listener.register_many([
          {
              "keys": "up",
              "on_keydown": function() {
                  console.log("Client: Going forward");
                  socket.emit('goForward');
              },
              "on_keyup": function(e) {
                  console.log("Client: Stop!");
                  socket.emit('stop');
              }
          }, {
              "keys": "down",
              "on_keydown": function() {
                  console.log("Client: Going backward");
                  socket.emit('goBackward');
              },
              "on_keyup": function(e) {
                  console.log("Client: Stop!");
                  socket.emit('stop');
              }

          },{
              "keys": "left",
              "on_keydown": function() {
                  console.log("Client: Turning left");
                  socket.emit('turnLeft');
              },
              "on_keyup": function(e) {
                  console.log("Client: Stop!");
                  socket.emit('stop');
              }

          },{
              "keys": "right",
              "on_keydown": function() {
                  console.log("Client: Turning right");
                  socket.emit('turnRight');
              },
              "on_keyup": function(e) {
                  console.log("Client: Stop!");
                  socket.emit('stop');
              }
          }, {
            "keys": "a",
            "on_keydown": function() {
                console.log("Moviendo Brazo!");
                socket.emit('brazoA');
            },
            "on_keyup": function(e) {
                console.log("Moviendo Brazo!");
                socket.emit('brazoB');
            }

          }

        ]);

        $('#btn-vel').click(function() {
          var velocidad_num = $('#vel').val();
          socket.emit('vel', velocidad_num );

        });
    });



  </script>
</head>
<body style="text-align:center;">
    <div style="
    padding: 20px;
    margin: 0;
    background-color: white;
">
        <h1 class="text-center" style="
    margin: 0;
">Voyager-bot
           <small>@secbi_ucc</small>
         </h1>
    </div>
    <br>


      <input id="vel" type="number" name="velocidad" placeholder="Valor entre 0 y 255">
      <input id="btn-vel" type="submit" class="btn btn-info start" value="Aplicar Velocidad">


      <script type="text/javascript">



      </script>






</body>
</html>
